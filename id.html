<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interesting Details</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      min-height: 100vh;
      background-color: #000000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Courier New', Courier, monospace;
    }

    .id-card {
      width: 680px;
      max-width: 92vw;
      background-color: #000000;
      border: 3px solid #ff8000;
      border-radius: 32px;
      padding: 2.2rem 2rem 2rem 2rem;
      box-shadow: 0 0 0 1px #ff8000 inset, 0 0 0 2px black inset;
      color: #ff0000;
    }

    .info-field {
      border: 2px solid #ff8000;
      border-radius: 40px;
      background-color: #000000;
      padding: 1rem 2rem;
      margin-bottom: 1.75rem;
      transition: none;
      word-break: break-word;
    }

    .label {
      font-size: 0.9rem;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: #ff0000;
      opacity: 0.85;
      margin-bottom: 0.3rem;
      font-weight: 500;
    }

    .value {
      font-size: 1rem;
      font-weight: 700;
      line-height: 1.3;
      color: #ff0000;
    }

    .value.slim {
      font-size: 1rem;
    }

    .value.address {
      font-size: 1rem;
    }

    .value.mail {
      font-size: 1rem;
      word-break: break-all;
    }

    .info-field:last-of-type {
      margin-bottom: 0;
    }

    .badge {
      display: flex;
      justify-content: center;
      margin-bottom: 1.2rem;
      color: #ff8000;
      font-weight: bold;
      letter-spacing: 3px;
      font-size: 1rem;
      border-bottom: 1px dashed #ff8000;
      padding-bottom: 0.6rem;
    }

    a, a:visited {
      color: #ff0000;
      text-decoration: none;
      border-bottom: 1px dotted #ff8000;
    }

    a:hover {
      border-bottom: 2px solid #ff8000;
    }

    .home-link {
      margin-top: 1.8rem;
      text-align: right;
      border-top: 2px dotted #ff8000;
      padding-top: 1.2rem;
    }

    .home-link a {
      font-size: 1rem;
      font-weight: 700;
      letter-spacing: 1px;
      border-bottom: 2px solid #ff8000;
      padding-bottom: 2px;
    }

    .home-link a:hover {
      border-bottom: 3px solid #ff8000;
    }

    .player-section {
      margin-top: 2rem;
      border: 2px solid #ff8000;
      border-radius: 40px;
      background-color: #000000;
      padding: 1.4rem 2rem;
    }

    .player-title {
      font-size: 1rem;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: #ff0000;
      margin-bottom: 1rem;
      font-weight: 700;
      border-bottom: 1px dashed #ff8000;
      padding-bottom: 0.4rem;
    }

    .player-controls {
      display: flex;
      align-items: center;
      gap: 1.2rem;
      flex-wrap: wrap;
    }

    .play-pause-btn {
      background: none;
      border: 2px solid #ff8000;
      border-radius: 60px;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: 0.1s linear;
      background-color: #ff8000;
      color: transparent;
      text-indent: -9999px;
      font-size: 0;
      line-height: 0;
      padding: 0;
    }

    .play-pause-btn:hover {
      background-color: #ff6000;
      border-color: #ff0000;
    }

    .progress-container {
      flex: 1;
      display: flex;
      align-items: center;
    }

    .progress-bar {
      width: 100%;
      height: 14px;
      background-color: #000000;
      border: 2px solid #ff8000;
      border-radius: 20px;
      appearance: none;
      cursor: pointer;
    }

    .progress-bar::-webkit-progress-bar {
      background-color: #000000;
      border-radius: 20px;
    }

    .progress-bar::-webkit-progress-value {
      background-color: #ff0000;
      border-radius: 20px;
    }

    .progress-bar::-moz-progress-bar {
      background-color: #ff0000;
      border-radius: 20px;
    }

    progress[value] {
      accent-color: #ff0000;
    }

    audio {
      display: none;
    }
  </style>
</head>
<body>
  <div class="id-card">
    <div class="badge">
      ◈ PERSONAL ID ◈
    </div>
    <div class="info-field">
      <div class="label">full name</div>
      <div class="value">Dejan Ilič</div>
    </div>
    <div class="info-field">
      <div class="label">date of birth</div>
      <div class="value">March 31st 1980</div>
    </div>
    <div class="info-field">
      <div class="label">address</div>
      <div class="value address">
        Toplarniška ulica 9<br>1000 Ljubljana, Slovenia
      </div>
    </div>
    <div class="info-field">
      <div class="label">phone</div>
      <div class="value">
        <a href="tel:+38630455165">+386 30 455 165</a>
      </div>
    </div>
    <div class="info-field">
      <div class="label">e‑mail</div>
      <div class="value mail">
        <a href="mailto:daedryk@proton.me">daedryk@proton.me</a>
      </div>
    </div>
    <div class="home-link">
      <a href="https://daedryk.github.io/">RETURN HOME</a>
    </div>

    <div class="player-section">
      <div class="player-title">mouse trap</div>
      <div class="player-controls">
        <button class="play-pause-btn" id="playPauseBtn" aria-label="play/pause"></button>
        <div class="progress-container">
          <progress class="progress-bar" id="progressBar" value="0" max="100"></progress>
        </div>
      </div>
    </div>
  </div>

  <audio id="track" src="trap.mp3" preload="metadata"></audio>

  <script>
    (function() {
      const btn = document.getElementById('playPauseBtn');
      const progress = document.getElementById('progressBar');
      const audio = document.getElementById('track');

      let rafId = null;
      let wasSeeking = false;

      const updateProgressFromTime = () => {
        if (!audio.duration || isNaN(audio.duration)) {
          progress.value = 0;
          return;
        }
        const percent = (audio.currentTime / audio.duration) * 100;
        progress.value = Math.min(100, Math.max(0, percent));
      };

      const whilePlaying = () => {
        if (audio.ended) {
          btn.style.backgroundColor = '#ff8000';
          progress.value = 0;
          if (rafId) {
            cancelAnimationFrame(rafId);
            rafId = null;
          }
          return;
        }

        if (!audio.paused && audio.duration) {
          updateProgressFromTime();
          rafId = requestAnimationFrame(whilePlaying);
        } else {
          if (rafId) {
            cancelAnimationFrame(rafId);
            rafId = null;
          }
        }
      };

      const togglePlayback = () => {
        if (audio.paused) {
          if (audio.ended) {
            audio.currentTime = 0;
          }
          const playPromise = audio.play();
          if (playPromise !== undefined) {
            playPromise.then(() => {
              btn.style.backgroundColor = '#ff0000';
              if (rafId) cancelAnimationFrame(rafId);
              rafId = requestAnimationFrame(whilePlaying);
            }).catch(() => {
              btn.style.backgroundColor = '#ff8000';
            });
          }
        } else {
          audio.pause();
          btn.style.backgroundColor = '#ff8000';
          if (rafId) {
            cancelAnimationFrame(rafId);
            rafId = null;
          }
        }
      };

      btn.addEventListener('click', togglePlayback);

      progress.addEventListener('mousedown', () => {
        if (rafId) {
          cancelAnimationFrame(rafId);
          rafId = null;
        }
        wasSeeking = true;
      });

      progress.addEventListener('input', (e) => {
        if (!audio.duration || isNaN(audio.duration)) return;
        const newTime = (progress.value / 100) * audio.duration;
        audio.currentTime = newTime;
      });

      progress.addEventListener('change', () => {
        if (!audio.duration) return;
        wasSeeking = false;
        if (!audio.paused) {
          if (rafId) cancelAnimationFrame(rafId);
          rafId = requestAnimationFrame(whilePlaying);
        }
      });

      document.addEventListener('mouseup', () => {
        if (wasSeeking) {
          wasSeeking = false;
          if (!audio.paused) {
            if (rafId) cancelAnimationFrame(rafId);
            rafId = requestAnimationFrame(whilePlaying);
          }
        }
      });

      audio.addEventListener('loadedmetadata', () => {
        progress.value = 0;
      });

      audio.addEventListener('ended', () => {
        btn.style.backgroundColor = '#ff8000';
        progress.value = 0;
        if (rafId) {
          cancelAnimationFrame(rafId);
          rafId = null;
        }
        audio.currentTime = 0;
      });

      audio.addEventListener('error', () => {});

      btn.style.backgroundColor = '#ff8000';
      progress.value = 0;

      window.addEventListener('beforeunload', () => {
        if (rafId) cancelAnimationFrame(rafId);
      });
    })();
  </script>
</body>
</html>